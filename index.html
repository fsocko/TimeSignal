
<html>
<head>
<title>TimeSignal - Pips</title>
  
  <script>
    function updateTime() {
      var today = new Date();
      var h = today.getHours();
      var m = today.getMinutes();
      var s = today.getSeconds();
      if (m < 10) {m = "0" + m};
      if (s < 10) {s = "0" + s};

      document.getElementById('time').innerHTML =
      h + ":" + m + ":" + s;

      var t = setTimeout(updateTime, 500);

      if(evaluatePip(h, m, s)){
            playPip();
      }
    }
</script>

<script src="node_modules\soundmanager2\script\soundmanager2.js"></script>
<script>
  soundManager.setup({
    url: '',
    onready: function() {
      var mySound = soundManager.createSound({
        id: 'aSound',
        url: 'bbc_pips.mp3'
      });
      mySound.play();
    },
    ontimeout: function() {
      // Hrmm, SM2 could not start. Missing SWF? Flash blocked? Show an error, etc.?
    }
  });
</script>

</head>

  <body onload="updateTime()">
    <script src=signalGenerator.js>
    </script>

    <div id="time"></div>
    <button id="muteToggle" onClick=toggleMute()>SOUND OFF</button>
    <button id="pipsNow" onClick=playPips()>PIPS NOW</button>

    <form action="">
      Pip Interval (s) <br />
      <input id="pipIntervalInput" type="number" min=1 step=1><br>
    </form>

  </body>
</html>

